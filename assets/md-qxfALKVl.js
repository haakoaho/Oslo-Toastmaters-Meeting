import{r,L,b as q,o as i,w as I,g as u,i as d,f as p,n as g,t as h,F as P,al as T,k as v,v as $,x as B,T as _}from"./modules/vue-D3_mjchr.js";import{_ as E}from"./default-C69QFb8w.js";import{_ as N,J as O,al as R}from"./index-CHIVUnn5.js";import"./modules/shiki-CGdFOZnS.js";const z={class:"slidev-layout default"},D={key:0,class:"mt-8 flex flex-wrap gap-3 justify-center items-stretch",style:{"max-width":"100%"}},F=["onClick","disabled"],U={key:1,class:"mt-8 text-xl text-red-600"},b="https://script.google.com/macros/s/AKfycbxUu5xSp9PGSkmJp21XiR6Zh31s_C84S_RqpLunrrqWiGt-AXlg30VBcZz9Ka3SJxUsWw/exec",J={__name:"slides.md__slidev_14",setup(j){const{$clicksContext:S,$frontmatter:w}=O();S.setup();const y=new BroadcastChannel("disqualify-speaker"),s=r([]),o=r("Loading options..."),l=r("info"),n=r(!1),c=r(null),m=r({x:0,y:0});async function k(){n.value=!0,o.value="Fetching speaker list...",l.value="info";try{const a=await(await fetch(`${b}?path=options`)).json();a.status==="success"&&a.options?.length?(s.value=a.options,o.value="Options loaded successfully.",l.value="success"):(o.value=a.message||"No speakers found.",l.value="error")}catch(e){o.value=`Error fetching data: ${e.message}`,l.value="error"}finally{n.value=!1}}async function C(e,a){const t=a.target.getBoundingClientRect(),f={x:t.left+t.width/2,y:t.top+t.height/2};y.postMessage({type:"DISQUALIFY",speaker:e,position:f}),x(e,f)}async function x(e,a){m.value=a,c.value=e,n.value=!0,o.value=`Disqualifying ${e}...`,l.value="info";try{fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",speaker:e}),mode:"no-cors"}).catch(()=>{}),await new Promise(t=>setTimeout(t,1200)),s.value=s.value.filter(t=>t!==e),c.value=null,o.value=`Successfully disqualified ${e}. ðŸ’¥`,l.value="success"}catch(t){c.value=null,o.value=`Error disqualifying speaker: ${t.message}`,l.value="error"}finally{n.value=!1}}return L(()=>{k(),y.onmessage=e=>{e.data.type==="DISQUALIFY"&&x(e.data.speaker,e.data.position)}}),(e,a)=>(i(),q(E,$(B(_(R)(_(w),13))),{default:I(()=>[u("div",z,[a[1]||(a[1]=u("h1",{class:"text-center"},"Timer's Report on Speakers",-1)),d(" Status Message "),u("div",{class:g(["p-4 rounded-md mt-6",{"bg-blue-100 text-blue-800":l.value==="info","bg-green-100 text-green-800":l.value==="success","bg-red-100 text-red-800":l.value==="error"}])}," Status: "+h(o.value),3),d(" Speaker List "),s.value.length>0?(i(),p("div",D,[(i(!0),p(P,null,T(s.value,t=>(i(),p("div",{key:t,class:g(["flex flex-col items-center justify-between p-4 border border-gray-300 rounded-xl shadow-sm bg-white relative overflow-visible speaker-card",{exploding:c.value===t}]),style:v({flex:s.value.length<=4?"0 0 calc(50% - 0.75rem)":"0 0 calc(33.333% - 0.75rem)",minWidth:s.value.length>6?"180px":"220px",maxWidth:s.value.length<=2?"400px":s.value.length<=4?"350px":"300px"})},[u("span",{class:"text-center font-semibold mb-3",style:v({fontSize:s.value.length<=4?"1.25rem":s.value.length<=6?"1.125rem":"1rem"})},h(t),5),u("button",{onClick:f=>C(t,f),disabled:n.value,class:g(["rounded-lg text-white font-bold transition duration-150 ease-in-out w-full",{"bg-red-600 hover:bg-red-700":!n.value,"bg-gray-400 cursor-not-allowed":n.value}]),style:v({fontSize:s.value.length>6?"0.875rem":"1rem",padding:s.value.length>6?"0.5rem 0.75rem":"0.5rem 1.25rem"})}," ðŸ’£ Disqualify ",14,F)],6))),128))])):!n.value&&l.value==="error"?(i(),p("p",U," Could not load speaker options. Check your script URL and logs. ")):d("v-if",!0),d(" Explosion GIF Overlay "),c.value?(i(),p("div",{key:2,class:"explosion-overlay",style:v({left:m.value.x+"px",top:m.value.y+"px"})},[...a[0]||(a[0]=[u("img",{src:"https://media.giphy.com/media/X92pmIty2ZJp6/giphy.gif",alt:"Nuclear Explosion"},null,-1)])],4)):d("v-if",!0)])]),_:1},16))}},V=N(J,[["__scopeId","data-v-fdf5cf19"]]);export{V as default};

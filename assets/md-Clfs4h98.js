import{r,L as C,b as T,o as u,w as O,g as c,i as v,f,n as y,t as h,F as P,al as $,k as q,v as L,x as R,T as _}from"./modules/vue-D3GJdWWR.js";import{_ as B}from"./default-1RVXqisK.js";import{_ as N,I as j,aj as D}from"./index-CKK9hiGQ.js";import"./modules/shiki-BMcdxX79.js";const E={class:"slidev-layout default"},I={key:0,class:"mt-8 flex flex-col gap-4 items-center"},z={class:"text-lg font-semibold"},F=["onClick","disabled"],J={key:1,class:"mt-8 text-xl text-red-600"},x="https://script.google.com/macros/s/AKfycbxUu5xSp9PGSkmJp21XiR6Zh31s_C84S_RqpLunrrqWiGt-AXlg30VBcZz9Ka3SJxUsWw/exec",U={__name:"slides.md__slidev_19",setup(G){const{$clicksContext:b,$frontmatter:w}=j();b.setup();const n=r([]),t=r("Loading options..."),e=r("info"),l=r(!1),d=r(null),g=r({x:0,y:0});async function S(){l.value=!0,t.value="Fetching speaker list...",e.value="info";try{const s=await(await fetch(`${x}?path=options`)).json();s.status==="success"&&s.options?.length?(n.value=s.options,t.value="Options loaded successfully.",e.value="success"):(t.value=s.message||"No speakers found.",e.value="error")}catch(a){t.value=`Error fetching data: ${a.message}`,e.value="error"}finally{l.value=!1}}async function k(a,s){const o=s.target.getBoundingClientRect();g.value={x:o.left+o.width/2,y:o.top+o.height/2},d.value=a;const m=n.value.filter(i=>i!==a);l.value=!0,t.value=`Disqualifying ${a}...`,e.value="info";try{await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({options:m}),mode:"no-cors"}),await new Promise(i=>setTimeout(i,1200)),n.value=m,d.value=null,t.value=`Successfully disqualified ${a}. ðŸ’¥`,e.value="success",setTimeout(async()=>{try{const p=await(await fetch(`${x}?path=options`)).json();p.status==="success"&&p.options?.length&&(p.options.includes(a)?(n.value=p.options,t.value="âš ï¸ Disqualification may have failed. Refreshed list.",e.value="error"):n.value=p.options)}catch(i){console.error("Background verification failed:",i)}},2e3)}catch(i){d.value=null,t.value=`POST request error: ${i.message}`,e.value="error"}finally{l.value=!1}}return C(S),(a,s)=>(u(),T(B,L(R(_(D)(_(w),18))),{default:O(()=>[c("div",E,[s[1]||(s[1]=c("h1",{class:"text-center"},"Timer's Report on Speakers",-1)),v(" Status Message "),c("div",{class:y(["p-4 rounded-md mt-6",{"bg-blue-100 text-blue-800":e.value==="info","bg-green-100 text-green-800":e.value==="success","bg-red-100 text-red-800":e.value==="error"}])}," Status: "+h(t.value),3),v(" Speaker List "),n.value.length>0?(u(),f("div",I,[(u(!0),f(P,null,$(n.value,o=>(u(),f("div",{key:o,class:y(["flex items-center justify-between w-full max-w-2xl p-4 border border-gray-300 rounded-xl shadow-sm bg-white relative overflow-visible",{exploding:d.value===o}])},[c("span",z,h(o),1),c("button",{onClick:m=>k(o,m),disabled:l.value,class:y(["px-6 py-2 rounded-lg text-white font-bold transition duration-150 ease-in-out",{"bg-red-600 hover:bg-red-700":!l.value,"bg-gray-400 cursor-not-allowed":l.value}])}," ðŸ’¥ Disqualify ",10,F)],2))),128))])):!l.value&&e.value==="error"?(u(),f("p",J," Could not load speaker options. Check your script URL and logs. ")):v("v-if",!0),v(" Explosion GIF Overlay "),d.value?(u(),f("div",{key:2,class:"explosion-overlay",style:q({left:g.value.x+"px",top:g.value.y+"px"})},[...s[0]||(s[0]=[c("img",{src:"https://media.giphy.com/media/X92pmIty2ZJp6/giphy.gif",alt:"Nuclear Explosion"},null,-1)])],4)):v("v-if",!0)])]),_:1},16))}},A=N(U,[["__scopeId","data-v-1d662989"]]);export{A as default};

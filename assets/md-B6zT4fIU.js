import{r,L as x,a as K,b as P,o as m,w as L,g as e,n as R,T as v,ag as d,aj as A,l as Q,ak as G,t as g,f as k,i as O,e as J,v as N,x as B}from"./modules/vue-D3_mjchr.js";import{_ as V}from"./tmi_logo-DX4vyW3h.js";import{_ as z}from"./default-C69QFb8w.js";import{_ as D,J as I,al as W}from"./index-CHIVUnn5.js";import"./modules/shiki-CGdFOZnS.js";const j=["disabled"],F={style:{display:"flex",gap:"1rem","margin-top":"1rem"}},M={key:0,class:"speaker"},q={key:1,class:"rules"},$={key:2,class:"registration-box"},H={class:"qr-section"},S="https://script.google.com/macros/s/AKfycbye3kDgEZcBnyl-bK09cbmRmxFpueFdVi43gQv92EWP8wL1soKtq-B913_F_XhiJOZLAg/exec",Y="https://script.google.com/macros/s/AKfycbzt5y17AZWLcPsPV21lYPbWJubbiGtKa5vb_Qsir8RDJ6EyjJGW-TrYRRzwNmHiWP-s/exec",U={__name:"slides.md__slidev_17",setup(Z){const{$clicksContext:w,$frontmatter:b}=I();w.setup();const f=window.location.pathname.includes("/presenter"),u=new BroadcastChannel("table-topics"),o=r(""),i=r(""),a=r(!1),c=r(""),p=r("info"),l=r(!1);function _(t){o.value=t,u.postMessage({type:"SET_SPEAKER",speaker:t})}function h(){o.value="",u.postMessage({type:"CLEAR_SPEAKER"})}function T(){l.value=!l.value,u.postMessage({type:"TOGGLE_QR",show:l.value})}async function y(){if(a.value||!i.value.trim())return;a.value=!0;const t=i.value.trim();_(t),i.value="",c.value=`âœ… Speaker set: ${t}`,p.value="success",fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"add",speaker:t}),mode:"no-cors"}).catch(()=>{}),a.value=!1}async function C(){if(!a.value){a.value=!0;try{c.value="ğŸ² Selecting random speaker...",p.value="info";const s=await(await fetch(Y)).json(),n=s?.selected||s?.speaker||s?.name;if(!n)throw new Error;_(n),c.value=`âœ… Random speaker: ${n}`,p.value="success",fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"add",speaker:n}),mode:"no-cors"}).catch(()=>{})}catch{c.value="âŒ Failed to select random speaker",p.value="error"}finally{a.value=!1}}}return x(()=>{u.onmessage=t=>{t.data.type==="SET_SPEAKER"&&(o.value=t.data.speaker),t.data.type==="CLEAR_SPEAKER"&&(o.value=""),t.data.type==="TOGGLE_QR"&&(l.value=t.data.show)},f&&window.addEventListener("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.key==="r"&&(t.preventDefault(),C()),(t.ctrlKey||t.metaKey)&&t.key==="s"&&(t.preventDefault(),y()),(t.ctrlKey||t.metaKey)&&t.key==="c"&&(t.preventDefault(),h())})}),(t,s)=>{const n=K("QRCode");return m(),P(z,N(B(v(W)(v(b),16))),{default:L(()=>[s[6]||(s[6]=e("p",null,[e("img",{src:V,alt:"Logo",style:{position:"absolute",top:"1rem",right:"1rem","max-height":"100px"}})],-1)),e("div",{class:R(["presenter-root",{hidden:!v(f)}])},[s[1]||(s[1]=e("h1",null,"ğŸ¤ Table Topics â€“ Presenter Control",-1)),s[2]||(s[2]=e("div",{class:"tip"},[e("strong",null,"âŒ¨ï¸ Keyboard shortcuts:"),d(),e("strong",null,"Ctrl+S"),d(" to set speaker â€¢ "),e("strong",null,"Ctrl+R"),d(" for random â€¢ "),e("strong",null,"Ctrl+C"),d(" to clear ")],-1)),e("p",null,[A(e("input",{"onUpdate:modelValue":s[0]||(s[0]=E=>i.value=E),placeholder:"Speaker name",onKeyup:Q(y,["enter"]),disabled:a.value},null,40,j),[[G,i.value]])]),e("div",{style:{display:"flex",gap:"1rem"}},[e("button",{class:"add",onClick:y},"Set (Ctrl+S)"),e("button",{class:"random",onClick:C},"Random (Ctrl+R)"),e("button",{class:"clear",onClick:h},"Clear (Ctrl+C)")]),e("div",F,[e("button",{class:"toggle-qr",onClick:T},g(l.value?"Hide QR Code":"Show QR Code"),1)]),e("p",null,g(c.value),1)],2),e("div",{class:R(["fullscreen-root",{hidden:v(f)}])},[o.value?(m(),k("div",M,[d(g(o.value)+" ",1),s[3]||(s[3]=e("div",{style:{"font-size":"1.6rem","font-weight":"400"}}," Table Topics Speaker ",-1))])):(m(),k("div",q,[...s[4]||(s[4]=[e("h1",null,"Table Topics ğŸ“‹",-1),e("ul",null,[e("li",null,"30 seconds to think"),e("li",null,"Intro: name â€“ topic â€“ topic â€“ name"),e("li",null,"ğŸŸ© Green at 1:00"),e("li",null,"ğŸŸ¨ Yellow at 1:30"),e("li",null,"ğŸŸ¥ Red at 2:00"),e("li",null,"Guests are encouraged to participateğŸ™‹â€â™€ï¸ğŸ™‹â€â™‚ï¸")],-1)])])),l.value?(m(),k("div",$,[e("div",H,[s[5]||(s[5]=e("h2",null,"Scan QR Code to join",-1)),J(n,{class:"mx-auto pt-10",value:"https://docs.google.com/forms/d/e/1FAIpQLScgOHxi05FhIkkWsqm2YpaHqu-kPh6dtJvzx7tJdll6Wr68Gw/viewform?usp=dialog",size:350,"render-as":"svg"})])])):O("v-if",!0)],2)]),_:1},16)}}},oe=D(U,[["__scopeId","data-v-3fee135c"]]);export{oe as default};
